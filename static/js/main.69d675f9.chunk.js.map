{"version":3,"sources":["images/mestoLogo.svg","images/editButton.svg","images/addButton.svg","images/success.svg","images/error.svg","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Spinner.js","components/ImagePopup.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","utils/api.js","utils/constants.js","components/InfoTooltip.js","utils/auth.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","Header","className","src","logo","alt","this","props","loggedIn","email","to","onClick","onSignOut","loginPageActive","handleRedirect","React","Component","Footer","CurrentUserContext","createContext","Card","handleClick","onCardClick","card","handleLikeClick","onCardLike","handleDeleteCard","onCardDelete","isOwn","owner","_id","context","isLiked","likes","some","item","link","name","type","length","contextType","Main","onEditAvatar","avatar","onEditProfile","pen","about","onAddPlace","plus","cards","map","key","Spinner","ImagePopup","onClose","image","PopupWithForm","isOpen","title","noValidate","onSubmit","children","btnTitle","AddPlacePopup","handleNameChange","e","setState","target","value","handleLinkChange","handleSubmit","preventDefault","state","placeholder","minLength","maxLength","required","id","onChange","EditAvatarPopup","event","onUpdateAvatar","imageLinkRef","current","createRef","ref","EditProfilePopup","handleDescriptionChange","description","onUpdateUser","pattern","baseURL","token","_baseURL","_token","url","properties","fetch","then","res","ok","json","Promise","reject","status","_fetchInfo","headers","authorization","dataForm","method","body","JSON","stringify","liked","InfoTooltip","console","log","onclose","isSuccess","successImg","errorImg","baseAuthURL","_baseAuthURL","password","error","data","catch","message","localStorage","setItem","Login","handleChange","Auth","authorize","onLogin","history","push","withRouter","Register","onRegister","ProtectedRoute","component","App","tokenCheck","getItem","checkToken","removeItem","register","isTooltipPopupOpen","handleEditAvatarClick","isEditAvatarPopupOpen","handleEditProfileClick","isEditProfilePopupOPen","handleAddPlaceClick","isAddPlacePopupOpen","handleCardClick","selectedCard","dataImg","closeAllPopups","handleUpdateUser","userInfo","api","updUserInfo","currentUser","handleUpdateAvatar","changeAvatar","handleAddPlaceSubmit","uploadCard","newCard","handleCardLike","likeCard","newCards","handleCardDelete","deleteCard","filter","isLoading","all","getUserInfo","getInitialCards","initialCards","Provider","exact","path","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.69d675f9.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/mestoLogo.e889e45f.svg\";","module.exports = __webpack_public_path__ + \"static/media/editButton.58afbe73.svg\";","module.exports = __webpack_public_path__ + \"static/media/addButton.bdfb8ebb.svg\";","module.exports = __webpack_public_path__ + \"static/media/success.75df9ada.svg\";","module.exports = __webpack_public_path__ + \"static/media/error.db56ee32.svg\";","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport logo from '../images/mestoLogo.svg';\n\nclass Header extends React.Component {\n  render () {\n    return (\n      <header className=\"header\">\n        <img className=\"logo\" src={logo} alt=\"Логотип\" />\n        {this.props.loggedIn ?\n        <>\n          <p className=\"header__email\">{this.props.email}</p>\n          <Link\n            className=\"header__link header__link_logged\"\n            to=\"signin\"\n            onClick={this.props.onSignOut}\n          >\n            Выйти\n          </Link>\n        </>\n        : <Link\n            className=\"header__link\"\n            to={this.props.loginPageActive ? 'signup' : 'signin'}\n            onClick={this.props.handleRedirect}\n          >\n            {this.props.loginPageActive ? \"Регистрация\" : \"Войти\"}\n          </Link>\n        }\n      </header>\n    )\n  }\n}\n\nexport default Header;\n","import React from 'react';\r\n\r\nclass Footer extends React.Component {\r\n  render () {\r\n    return (\r\n      <footer className=\"footer\">\r\n        <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n      </footer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\r\n\r\nclass Card extends React.Component {\r\n  handleClick = () => {\r\n    this.props.onCardClick(this.props.card);\r\n  }\r\n\r\n  handleLikeClick = () => {\r\n    this.props.onCardLike(this.props.card);\r\n  }\r\n\r\n  handleDeleteCard = () => {\r\n    this.props.onCardDelete(this.props.card)\r\n  }\r\n\r\n  static contextType = CurrentUserContext;\r\n\r\n  render () {\r\n    const isOwn = this.props.card.owner._id === this.context._id;\r\n    const isLiked = this.props.card.likes.some(item => item._id === this.context._id);\r\n    return (\r\n      <div className=\"place\">\r\n        <img\r\n          className=\"place__image\"\r\n          src={this.props.card.link}\r\n          alt={this.props.card.name}\r\n          onClick={this.handleClick}\r\n        />\r\n        {isOwn && <button type=\"button\" className=\"place__delete-card\" onClick={this.handleDeleteCard}></button>}\r\n        <div className=\"place__description\">\r\n          <p className=\"place__name\">{this.props.card.name}</p>\r\n          <div className=\"place__like-box\">\r\n            <button type=\"button\" className={isLiked ? \"place__like place__like_active\" : \"place__like\"} onClick={this.handleLikeClick}></button>\r\n            <p className=\"place__count\">{this.props.card.likes.length}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\nimport Card from './Card';\nimport pen from '../images/editButton.svg';\nimport plus from '../images/addButton.svg';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nclass Main extends React.Component {\n  static contextType = CurrentUserContext;\n\n  render() {\n    return (\n      <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__box\">\n\n          <button\n            className=\"profile__avabutton\"\n            type=\"button\"\n            onClick={this.props.onEditAvatar}>\n              <img\n                alt=\"Аватар\"\n                className=\"profile__avatar\"\n                src={this.context && this.context.avatar}\n              />\n          </button>\n\n          <div className=\"profile__info\">\n            <div className=\"profile__details\">\n              <h1 className=\"profile__name\">{this.context && this.context.name}</h1>\n              <button\n                type=\"button\"\n                className=\"button profile__edit-button\"\n                onClick={this.props.onEditProfile}>\n                  <img\n                  src={pen}\n                  alt=\"Ручка\"\n                  />\n              </button>\n            </div>\n            <p className=\"profile__job\">{this.context && this.context.about}</p>\n          </div>\n        </div>\n        <button\n          type=\"button\"\n          className=\"button profile__add-button\"\n          onClick={this.props.onAddPlace}>\n            <img\n              src={plus}\n              alt=\"Плюс\"\n            />\n        </button>\n      </section>\n      <section className=\"places\">\n        {this.props.cards && this.props.cards.map(card => (\n          <Card\n            card={card}\n            key={card._id}\n            onCardClick={this.props.onCardClick}\n            onCardLike={this.props.onCardLike}\n            onCardDelete={this.props.onCardDelete}\n          />\n        ))}\n      </section>\n    </main>\n    )\n  }\n}\n\nexport default Main;\n","import React from 'react'\n\nfunction Spinner() {\n    return (\n        <div className=\"spinner\" />\n    )\n}\n\nexport default Spinner\n","import React from 'react';\n\nclass ImagePopup extends React.Component {\n  render() {\n    return (\n      <div className={this.props.card ? \"popup popup_type_img popup_opened\" : \"popup popup_type_img\"}>\n        <div className=\"popup__image-container\">\n          <button\n          className=\"popup__close\"\n          type=\"button\"\n          onClick={this.props.onClose}>\n          </button>\n          <img  className=\"popup__image\" src={this.props.image.link} alt={this.props.image.name} />\n          <p className=\"popup__text\">{this.props.image.name}</p>\n        </div>\n    </div>\n    )\n  }\n}\n\nexport default ImagePopup;\n","import React from 'react';\n\nfunction PopupWithForm (props) {\n  return (\n  <div className={\n    `popup popup_type_${props.name}\n    ${(props.isOpen) ? \"popup_opened\" : \"\"}`\n  }>\n    <div className=\"popup__container\">\n      <button className=\"popup__close\" type=\"button\" onClick={props.onClose}></button>\n      <h3 className=\"popup__title\">{props.title}</h3>\n      <form className=\"form\" name={props.name} noValidate onSubmit={props.onSubmit}>\n        {props.children}\n        <button type=\"submit\" className=\"popup__save-btn\">\n          {props.btnTitle}\n        </button>\n      </form>\n    </div>\n  </div>\n  )\n}\n\n\nexport default PopupWithForm;\n\n\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nclass AddPlacePopup extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      name: '',\r\n      link: ''\r\n    }\r\n  }\r\n\r\n  handleNameChange = (e) => {\r\n    this.setState({\r\n      name: e.target.value\r\n    })\r\n  }\r\n\r\n  handleLinkChange = (e) => {\r\n    this.setState({\r\n      link: e.target.value\r\n    })\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onAddPlace({\r\n      name: this.state.name,\r\n      link: this.state.link\r\n    })\r\n    this.setState({\r\n      name: '',\r\n      link: ''\r\n    })\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <PopupWithForm\r\n        name=\"card\"\r\n        title=\"Новое место\"\r\n        btnTitle=\"Создать\"\r\n        isOpen={this.props.isOpen}\r\n        onClose={this.props.onClose}\r\n        onSubmit={this.handleSubmit}\r\n      >\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            placeholder=\"Название\"\r\n            className=\"popup__input popup__input_type_place\"\r\n            minLength=\"1\"\r\n            maxLength=\"30\"\r\n            required\r\n            id=\"name-input\"\r\n            value={this.state.name}\r\n            onChange={this.handleNameChange}\r\n          />\r\n          <span\r\n            className=\"popup__input-error\"\r\n            id=\"name-input-error\">\r\n          </span>\r\n          <input\r\n            type=\"url\"\r\n            name=\"link\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            className=\"popup__input popup__input_type_link\"\r\n            required\r\n            id=\"url-input\"\r\n            value={this.state.link}\r\n            onChange={this.handleLinkChange}\r\n          />\r\n          <span\r\n            className=\"popup__input-error\"\r\n            id=\"url-input-error\">\r\n          </span>\r\n      </PopupWithForm>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AddPlacePopup;\r\n\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nclass EditAvatarPopup extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.imageLinkRef = React.createRef();\r\n  }\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    this.props.onUpdateAvatar(this.imageLinkRef.current.value);\r\n    this.imageLinkRef.current.value = '';\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <PopupWithForm\r\n          name=\"avatar\"\r\n          title=\"Обновить аватар\"\r\n          isOpen={this.props.isOpen}\r\n          onClose={this.props.onClose}\r\n          onSubmit={this.handleSubmit}\r\n          btnTitle=\"Сохранить\"\r\n        >\r\n          <input\r\n            type=\"url\"\r\n            className=\"popup__input popup__input_type_link\"\r\n            name=\"link\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            id=\"avatar-input\"\r\n            required\r\n            ref={this.imageLinkRef}\r\n          />\r\n          <span\r\n            className=\"popup__input-error\"\r\n            id=\"avatar-input-error\">\r\n          </span>\r\n        </PopupWithForm>\r\n    )\r\n  }\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nclass EditProfilePopup extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: '',\r\n      description: ''\r\n    }\r\n  }\r\n\r\n  static contextType = CurrentUserContext;\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      name: this.context.name,\r\n      description: this.context.about\r\n    })\r\n  }\r\n\r\n  handleNameChange = (event) => {\r\n    this.setState({\r\n      name: event.target.value\r\n    })\r\n  }\r\n\r\n  handleDescriptionChange = (event) => {\r\n    this.setState({\r\n      description: event.target.value\r\n    })\r\n  }\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    this.props.onUpdateUser({\r\n      name: this.state.name,\r\n      about: this.state.description\r\n    })\r\n  }\r\n\r\n  render () {\r\n    return (\r\n        <PopupWithForm\r\n          name=\"profile\"\r\n          title=\"Редактировать профиль\"\r\n          isOpen={this.props.isOpen}\r\n          onClose={this.props.onClose}\r\n          onSubmit={this.handleSubmit}\r\n          btnTitle=\"Сохранить\"\r\n        >\r\n            <input\r\n              type=\"text\"\r\n              name=\"name\"\r\n              placeholder=\"Имя\"\r\n              className=\"popup__input popup__input_type_name\"\r\n              required\r\n              pattern=\"[a-zA-ZА-ЯЁа-яё\\s\\-]+\"\r\n              minLength=\"2\"\r\n              maxLength=\"40\"\r\n              id=\"name-input\"\r\n              value={this.state.name}\r\n              onChange={this.handleNameChange}\r\n            />\r\n            <span\r\n              className=\"popup__input-error\"\r\n              id=\"name-input-error\">\r\n            </span>\r\n            <input\r\n              type=\"text\"\r\n              name=\"job\"\r\n              placeholder=\"О себе\"\r\n              className=\"popup__input popup__input_type_job\"\r\n              required\r\n              minLength=\"2\"\r\n              maxLength=\"200\"\r\n              id=\"job-input\"\r\n              value={this.state.description}\r\n              onChange={this.handleDescriptionChange}\r\n            />\r\n            <span\r\n              className=\"popup__input-error\"\r\n              id=\"job-input-error\">\r\n            </span>\r\n        </PopupWithForm>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import {baseURL, token} from './constants';\r\n\r\nclass Api {\r\n  constructor(baseURL, token) {\r\n    this._baseURL = baseURL;\r\n    this._token = token;\r\n  }\r\n\r\n  _fetchInfo(url, properties) {\r\n    return fetch(this._baseURL + url, properties)\r\n      .then(res => {\r\n        if(res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n  }\r\n\r\n  getUserInfo() {\r\n    return this._fetchInfo('/users/me', {\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    });\r\n  }\r\n\r\n  updUserInfo(dataForm) {\r\n    return this._fetchInfo('/users/me', {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(dataForm)\r\n    });\r\n  }\r\n\r\n  getInitialCards() {\r\n    return this._fetchInfo('/cards', {\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    });\r\n  }\r\n\r\n  uploadCard(dataForm) {\r\n    return this._fetchInfo('/cards', {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(dataForm)\r\n    });\r\n  }\r\n\r\n  likeCard(id, liked) {\r\n    let method;\r\n    if (liked) {\r\n      method = 'DELETE';\r\n    } else {\r\n      method = 'PUT';\r\n    }\r\n    return this._fetchInfo('/cards/likes/' + id, {\r\n      method: method,\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    });\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return this._fetchInfo('/cards/' + id, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    });\r\n  }\r\n\r\n  changeAvatar(link) {\r\n    return this._fetchInfo('/users/me/avatar', {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: link\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\n\r\nexport default new Api(baseURL, token);","export const baseURL = 'https://mesto.nomoreparties.co/v1/cohort-12';\nexport const token = 'd358cac0-a420-4d4c-9dd2-c14a231c4bbb';\n\n// URL address for authorization\nexport const baseAuthURL = 'https://auth.nomoreparties.co';\n","import React from 'react';\nimport successImg from '../images/success.svg'\nimport errorImg from '../images/error.svg'\n\nclass InfoTooltip extends React.Component {\n\n  render() {console.log(this.props);\n    return (\n      <div className={`popup popup_type_tooltip ${(this.props.isOpen) ? 'popup_opened' : ''}`}>\n        <div className=\"popup__container\">\n          <button className=\"popup__close\" type=\"button\" onClick={this.props.onclose}></button>\n          <div className=\"form\">\n            <img className=\"popup__tooltipimg\" src={this.props.isSuccess ? successImg : errorImg} alt=\"\" />\n            <h2 className=\"popup__tooltiptxt\">\n            {this.props.isSuccess ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}\n            </h2>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default InfoTooltip;\n","import { baseAuthURL } from './constants';\n\nclass Auth {\n  constructor(baseAuthURL) {\n    this._baseAuthURL = baseAuthURL;\n  }\n\n  register(email, password) {\n    return fetch(this._baseAuthURL + '/signup', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ email, password })\n    })\n      .then(res => {\n        try {\n          if(res.ok) {\n            return res.json();\n          }\n        } catch (error) {\n          return (error);\n        }\n      })\n        .then(data => {\n          return data;\n        })\n        .catch(error => console.log(error.message));\n  }\n\n  authorize(email, password) {\n    return fetch(this._baseAuthURL + '/signin', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ email, password })\n    })\n      .then(res => {\n        try {\n          if (res.ok) {\n            return res.json();\n          }\n        } catch (error) {\n          return (error);\n        }\n      })\n        .then(data => {\n          if (data.token) {\n            localStorage.setItem('token', data.token);\n            return data;\n          }\n        })\n        .catch(error => console.log(error.message));\n  }\n\n  checkToken(token) {\n    return fetch(this._baseAuthURL + '/users/me', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      }\n    })\n      .then(res => {\n        try {\n          if (res.ok) {\n            return res.json();\n          }\n        } catch (error) {\n          return (error);\n        }\n      })\n        .then(data => data)\n        .catch(error => console.log(error.message));\n  }\n}\n\nexport default new Auth(baseAuthURL);\n","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport Auth from '../utils/auth';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      password: ''\n    }\n  }\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault()\n    if (!this.state.email || !this.state.password) {\n      return\n    }\n\n    Auth.authorize(this.state.email, this.state.password)\n      .then(data => {\n        if (data.token) {\n          this.props.onLogin(this.state.email);\n          this.setState({ email: '', password: ''}, () => {\n            this.props.history.push('/');\n          })\n        }\n      })\n      .catch(error => console.log(error.message));\n  }\n\n  render() {\n    return (\n      <div className=\"login\">\n        <h2 className=\"login__title\">Вход</h2>\n        <form className=\"login__form\" onSubmit={this.handleSubmit}>\n          <input\n            className=\"login__input\"\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            placeholder=\"E-mail\"\n            required\n            value={this.state.email}\n            onChange={this.handleChange}\n          />\n          <input\n            className=\"login__input\"\n            id=\"password\"\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"Пароль\"\n            required\n            value={this.state.password}\n            onChange={this.handleChange}\n          />\n          <button className=\"button login__button\" type=\"submit\">Войти</button>\n        </form>\n        <p className=\"login__text\">Еще не зарегистрированы? </p><Link className=\"login__link\" to=\"signup\" onClick={this.props.handleRedirect}>Регистрация</Link>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(Login);\n","import React from 'react';\nimport { Link, withRouter} from 'react-router-dom';\n\nclass Register extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      password: ''\n    }\n  }\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    if (!this.state.email || !this.state.password) {\n      return;\n    }\n\n    this.props.onRegister(this.state.email, this.state.password);\n  }\n\n  render() {\n    return (\n      <div className=\"register\">\n        <h2 className=\"register__title\">Регистрация</h2>\n        <form className=\"register__form\" onSubmit={this.handleSubmit}>\n          <input\n            className=\"register__input\"\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            placeholder=\"E-mail\"\n            required\n            value={this.state.email}\n            onChange={this.handleChange}\n          />\n          <input\n            className=\"register__input\"\n            id=\"password\"\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"Пароль\"\n            required\n            value={this.state.password}\n            onChange={this.handleChange}\n          />\n          <button className=\"button register__button\" type=\"submit\">Зарегистрироваться</button>\n        </form>\n        <p className=\"register__text\">Уже зарегистрированы? </p><Link className=\"register__link\" to=\"signin\" onClick={this.props.handleRedirect}>Войти</Link>\n      </div>\n    )\n  }\n}\n\n\nexport default withRouter(Register);\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {props.loggedIn ? <Component {...props} /> : <Redirect to='/login' />}\n    </Route>\n  )\n}\n\nexport default ProtectedRoute;\n","import React from 'react';\nimport { Route, Switch, withRouter } from 'react-router-dom';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Main from './Main';\nimport Spinner from './Spinner';\nimport ImagePopup from './ImagePopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport api from '../utils/api';\nimport InfoTooltip from './InfoTooltip';\nimport Auth from '../utils/auth';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isEditProfilePopupOPen: false,\n      isAddPlacePopupOpen: false,\n      isEditAvatarPopupOpen: false,\n      isTooltipPopupOpen: false,\n      isLoading: false,\n      selectedCard: false,\n      currentUser: null,\n      dataImg: {\n        link: null,\n        name: null\n      },\n      loggedIn: false,\n      email: null,\n      loginPageActive: true,\n      // message: null\n      isSuccess: false\n    }\n  }\n\n  componentDidMount() {\n    this.setState({\n      isLoading: true\n    })\n    this.tokenCheck();\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then(([userInfo, initialCards]) => {\n        this.setState({\n          currentUser: userInfo,\n          cards: initialCards,\n          isLoading: false\n        })\n      })\n      .catch(error => console.log(error));\n  }\n\n  tokenCheck = () => {\n    if(localStorage.getItem('token')) {\n      const token = localStorage.getItem('token');\n      Auth.checkToken(token)\n        .then(res => {\n          if (res) {\n            this.setState({\n              loggedIn: true,\n              email: res.data.email,\n              loginPageActive: false\n            }, () => {\n              this.props.history.push('/');\n            });\n          } else {\n            localStorage.removeItem('token');\n          }\n        });\n    }\n  }\n\n  onLogin = (email) => {\n    this.setState({\n      loggedIn: true,\n      email,\n      loginPageActive: false\n    })\n  }\n\n  onRegister = (email, password) => {\n    Auth.register(email, password)\n      .then(res => {\n        if (res) {\n          this.setState({\n            isTooltipPopupOpen: true,\n            isSuccess: true\n          }, () => {\n            this.props.history.push('/signin');\n          })\n        } else {\n          this.setState({\n            isTooltipPopupOpen: true,\n            isSuccess: false\n          })\n        }\n      });\n  }\n\n  onSignOut = () => {\n    this.setState({\n      loggedIn: false,\n      email: null,\n      loginPageActive: true\n    })\n    localStorage.removeItem('token');\n  }\n\n  handleRedirect = () => {\n    this.setState({\n      loginPageActive: !this.state.loginPageActive\n    })\n  }\n\n  handleEditAvatarClick = () => {\n    this.setState({\n      isEditAvatarPopupOpen: true\n    })\n  }\n\n  handleEditProfileClick = () => {\n    this.setState({\n      isEditProfilePopupOPen: true\n    })\n  }\n\n  handleAddPlaceClick = () => {\n    this.setState({\n      isAddPlacePopupOpen: true\n    })\n  }\n\n  handleCardClick = (card) => {\n    this.setState({\n      selectedCard: true,\n      dataImg: {\n        link: card.link,\n        name: card.name\n      }\n    })\n  }\n\n  closeAllPopups = () => {\n    this.setState({\n      isEditProfilePopupOPen: false,\n      isTooltipPopupOpen: false,\n      isAddPlacePopupOpen: false,\n      isEditAvatarPopupOpen: false,\n      selectedCard: false,\n      dataImg: {\n        link: null,\n        name: null\n      },\n      // message: null\n    })\n  }\n\n  handleUpdateUser = (userInfo) => {\n    api.updUserInfo(userInfo)\n      .then(userInfo => {\n        this.setState({\n          currentUser: userInfo\n        })\n        this.closeAllPopups();\n      })\n      .catch(error => console.log(error));\n  }\n\n  handleUpdateAvatar = (link) => {\n    api.changeAvatar(link)\n      .then(userInfo => {\n        this.setState({\n          currentUser: userInfo\n        })\n        this.closeAllPopups();\n      })\n      .catch(error => console.log(error));\n  }\n\n  handleAddPlaceSubmit = (dataForm) => {\n    api.uploadCard(dataForm)\n      .then(newCard => {\n        this.setState({\n          cards: [newCard, ...this.state.cards]\n        })\n        this.closeAllPopups();\n      })\n      .catch(error => console.log(error));\n  }\n\n  handleCardLike = (card) => {\n    const isLiked = card.likes.some(item => item._id === this.state.currentUser._id);\n    api.likeCard(card._id, isLiked)\n      .then(newCard => {\n        const newCards = this.state.cards.map(item => item._id === card._id ? newCard: item);\n        this.setState({\n          cards: newCards\n        });\n      })\n      .catch(error => console.log(error));\n  }\n\n  handleCardDelete = (card) => {\n    api.deleteCard(card._id)\n      .then(res => {\n        const newCards = this.state.cards.filter(item => item._id !== card._id);\n        this.setState({\n          cards: newCards\n        });\n      })\n      .catch(error => console.log(error));\n  }\n\n  render() {\n    return (\n      <div className=\"page\">\n\n        <CurrentUserContext.Provider value={this.state.currentUser}>\n\n          <Header\n            loggedIn={this.state.loggedIn}\n            email={this.state.email}\n            loginPageActive={this.state.loginPageActive}\n            onSignOut={this.onSignOut}\n            handleRedirect={this.handleRedirect}\n          />\n          <Switch>\n          {this.state.isLoading ? <Spinner /> :\n            <ProtectedRoute\n              exact path=\"/\"\n              loggedIn={this.state.loggedIn}\n              onEditProfile={this.handleEditProfileClick}\n              onAddPlace={this.handleAddPlaceClick}\n              onEditAvatar={this.handleEditAvatarClick}\n              onCardClick={this.handleCardClick}\n              cards={this.state.cards}\n              onCardLike={this.handleCardLike}\n              onCardDelete={this.handleCardDelete}\n              component={Main}\n            />\n          }\n            <Route path=\"/signin\">\n              <Login onLogin={this.onLogin} handleRedirect={this.handleRedirect} />\n            </Route>\n\n            <Route path=\"/signup\">\n              <Register onRegister={this.onRegister} handleRedirect={this.handleRedirect} />\n            </Route>\n\n          </Switch>\n\n          <Footer />\n\n          {this.state.currentUser && <EditProfilePopup\n            isOpen={this.state.isEditProfilePopupOPen}\n            onClose={this.closeAllPopups}\n            onUpdateUser={this.handleUpdateUser}\n          />}\n\n          <AddPlacePopup\n            isOpen={this.state.isAddPlacePopupOpen}\n            onClose={this.closeAllPopups}\n            onAddPlace={this.handleAddPlaceSubmit}\n          />\n\n          <EditAvatarPopup\n            isOpen={this.state.isEditAvatarPopupOpen}\n            onClose={this.closeAllPopups}\n            onUpdateAvatar={this.handleUpdateAvatar}\n          />\n\n          <ImagePopup\n            card={this.state.selectedCard}\n            onClose={this.closeAllPopups}\n            image={this.state.dataImg}\n          />\n\n          <InfoTooltip\n            isOpen={this.state.isTooltipPopupOpen}\n            onclose={this.closeAllPopups}\n            // message={this.state.message}\n            isSuccess={this.state.isSuccess}\n          />\n\n        </CurrentUserContext.Provider>\n\n      </div>\n    );\n  }\n}\n\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom'\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}